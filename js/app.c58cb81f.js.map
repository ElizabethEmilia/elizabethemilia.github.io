{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Content.vue?81ae","webpack:///./src/App.vue","webpack:///./src/components/Sidebar.vue","webpack:///./src/i18n/zh-CN.js","webpack:///./src/i18n/en-US.js","webpack:///./src/i18n/index.js","webpack:///./src/js/utils.js","webpack:///./src/icons/IconBase.vue","webpack:///src/icons/IconBase.vue","webpack:///./src/icons/IconBase.vue?7960","webpack:///./src/icons/IconBase.vue?5f26","webpack:///./src/icons/IconSideBar.vue","webpack:///./src/icons/IconSideBar.vue?4e71","webpack:///./src/icons/IconExit.vue","webpack:///./src/icons/IconExit.vue?6326","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?9869","webpack:///./src/components/Sidebar.vue?4f66","webpack:///./src/components/Content.vue","webpack:///./src/icons/IconHeart.vue","webpack:///./src/icons/IconHeart.vue?920c","webpack:///./src/icons/IconHeartFilled.vue","webpack:///./src/icons/IconHeartFilled.vue?39a2","webpack:///./src/components/PopupDialog.vue","webpack:///src/components/PopupDialog.vue","webpack:///./src/components/PopupDialog.vue?dc9d","webpack:///./src/components/PopupDialog.vue?815b","webpack:///src/components/Content.vue","webpack:///./src/components/Content.vue?cfac","webpack:///./src/components/Content.vue?8a13","webpack:///./src/components/Preview.vue","webpack:///src/components/Preview.vue","webpack:///./src/components/Preview.vue?1d7b","webpack:///./src/components/Preview.vue?33b1","webpack:///./src/components/PasswordInput.vue","webpack:///src/components/PasswordInput.vue","webpack:///./src/components/PasswordInput.vue?0561","webpack:///./src/components/PasswordInput.vue?d88c","webpack:///src/App.vue","webpack:///./src/App.vue?710d","webpack:///./src/App.vue?b0f5","webpack:///./src/main.js","webpack:///./src/App.vue?dfe5","webpack:///./src/icons/IconBase.vue?76be"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","class","sidebar_shown_on_pc_mode","attrs","contentAlbumName","contentFriendlyName","on","should-show-sidebar","val","sidebar_shown_on_mobile_mode","preview-photo","a","b","e","previewPhoto","directives","rawName","expression","staticClass","$event","ref","people_enabled","switch-album","album_name","friendly_name","preview_shown","preview_filename","preview_imagelist","preview_index","preview_album_name","preview_current_obj","password_input_shown","pwd","checkPassword","staticRenderFns","staticStyle","handleScroll","shouldShowSemiTransparentNavBar","_v","_s","tr","click","raise_event_show_sidebar","logout","style","marginTop","opacity","show_banner","get_css_class_list_item","on_switch_album","_l","album_list","album","backgroundImage","preview","people_categories","cata","id","al","backgroundPosition","calcCenterFaceBgpos","translations","zh_CN","en_US","GetCurrentLanguage","lan","navigator","language","localStorage","user_set_lan","getItem","startsWith","_current_language","I18nTextF","text","args","replace","match","index","I18nTranslate","translated","console","log","i18n_translate","get_secured_json","url","password","enabled_password","miyuki_password","Promise","resolve","reject","fetch","then","response","ok","json","Error","catch","x","error","get_json","md5_transform","Array","fill","_a","Number","parseInt","_b","toString","join","DownloadTextAsFile","content","filename","blob","Blob","type","document","createElement","href","URL","createObjectURL","download","display","body","appendChild","removeChild","GetCurrentTimeFormatted","now","Date","year","getFullYear","month","String","getMonth","padStart","date","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","GetFileContent","ext","fileInput","accept","addEventListener","event","file","target","files","reader","FileReader","onload","onerror","readAsText","CalculateCenterFaceBackgroundPosition","photo","faces","avg_x","map","reduce","avg_y","avg_w","avg_h","center_x","center_y","image_w","w","image_h","h","is_vertical","relative_pos_ratio","actual_offset_ratio","wh_ratio","full_offset_ratio","offset_ratio","Math","max","min","download_text_as_file","get_current_time_f","get_file_content","calc_center_face_bg_pos","translate","i18n","width","height","iconColor","_t","props","default","component","script","components","IconSideBar","IconBase","IconExit","selected_album_name","methods","utils","$emit","album_friendly_name","innerWidth","el","srcElement","scrollTop","categories","album_hash","share_album_hash","album_info","removeItem","location","reload","sidebar_shown_pc","photo_count","menu_more_is_shown","current_zoom_scale","base_name","share_enabled","shareAlbumClick","exportFavClick","importFavClick","photo_list","get_thumbnail_image","get_thumbnail_image_backgrouod_pos","raise_event_show_preview","position","left","bottom","fav","switchFavState","popup_dialog_shown","complete-click","share_dialog_phase","share_password","domProps","composing","shareButtonClick","share_url","title","password_dialog_shown","completeClick","require","feedback","bResult","md5","PHOTO_PER_PAGE","IconHeart","IconHeartFilled","PopupDialog","page_count","current_page_to_load","initial_scroll_height","response_load_new","fav_content_cache","fav_page_cache","computed","album_common_prefix","album_get_count_json_name","album_get_image_at_current_page_json_name","watch","initialize","created","image_file_name","photo_index","photo_obj","setTimeout","max_i","applyFavoriteWithPhotos","alumn_name","image_name","loadAllFavoriteItems","key1","key2","album_config","count","hash","ceil","load_image","scrollHeight","offsetHeight","isFavorite","getFavoriteStorageKey","getFavoriteLocalStorageKey","getFavoriteLocalStorageAllKeys","keys","len","_key","JSON","parse","al_key","$forceUpdate","saveFavoriteState","localstorage","setItem","stringify","alert","password_hash","en","de","split","save_content","_check","fav_json","k0","fal","falk","ee","showNavBar","preview_cache_img_style","preview_img_style","photo_name","raise_hide_preview","catalog_name","downloadPhoto","current_photo_filename","thumbnail_path","current_album_name","photo_path","thumbnail_path_at_index","image_list","photo_path_at_index","open","getBackgroundSize","ph","current_photo","pw","wh","innerHeight","ww","pr","wr","dr","fill_width","fill_height","backgroundSize","mounted","passwordErrorMsgShown","passwordEntered","indexOf","_k","keyCode","submitPassword","showInput","$refs","pi","focus","Sidebar","ContentView","Preview","PasswordInput","activeName","content_view_shown","is_share_link","share_id","password_input","initialize_for_share","requirePassword","sidebar","getAlbumList","getAlbumListForShare","password_enabled","parse_args","_args","forEach","item","padEnd","app_config","enabled","Vue","config","productionTip","App","$mount"],"mappings":"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","file":"js/app.c58cb81f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=style&index=0&id=2e0469e9&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{class:['content-container', _vm.sidebar_shown_on_pc_mode?'':'side-hidden-screen']},[_c('ContentView',{attrs:{\"base_name\":_vm.contentAlbumName,\"album_friendly_name\":_vm.contentFriendlyName,\"sidebar_shown_pc\":_vm.sidebar_shown_on_pc_mode},on:{\"should-show-sidebar\":(val, mode) =>  mode === 'mobile' ? _vm.sidebar_shown_on_mobile_mode = val : _vm.sidebar_shown_on_pc_mode = val,\"preview-photo\":(a,b,c,d,e) => _vm.previewPhoto(a,b,c,d,e)}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sidebar_shown_on_mobile_mode),expression:\"sidebar_shown_on_mobile_mode\"}],staticClass:\"sidebar-mobile-mask\",on:{\"click\":function($event){_vm.sidebar_shown_on_mobile_mode = false}}}),_c('div',{class:['sidebar-container', _vm.sidebar_shown_on_pc_mode?'':'side-hidden-screen', _vm.sidebar_shown_on_mobile_mode?'sidebar-mobile-shown':'']},[_c('Sidebar',{ref:\"sidebar\",attrs:{\"people_enabled\":_vm.people_enabled},on:{\"switch-album\":(album_name, friendly_name) => { this.contentAlbumName = album_name; this.contentFriendlyName = friendly_name; },\"should-show-sidebar\":(val, mode) =>  mode === 'mobile' ? _vm.sidebar_shown_on_mobile_mode = val : _vm.sidebar_shown_on_pc_mode = val}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.preview_shown),expression:\"preview_shown\"}],staticClass:\"preview-container\"},[_c('Preview',{attrs:{\"current_photo_filename\":_vm.preview_filename,\"image_list\":_vm.preview_imagelist,\"index\":_vm.preview_index,\"current_album_name\":_vm.preview_album_name,\"catalog_name\":_vm.contentFriendlyName,\"current_photo\":_vm.preview_current_obj},on:{\"hide-preview\":function($event){_vm.preview_shown = false}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.password_input_shown),expression:\"password_input_shown\"}],staticClass:\"password-container\"},[_c('PasswordInput',{ref:\"password_input\",on:{\"submit-password\":pwd => _vm.checkPassword(pwd)}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"padding-left\":\"10px\",\"padding-right\":\"10px\",\"height\":\"100%\",\"overflow-y\":\"auto\"},on:{\"scroll\":_vm.handleScroll}},[_c('div',{class:['navbar', _vm.shouldShowSemiTransparentNavBar ? '' : 'large']},[_c('div',{staticClass:\"nav-title\"},[_vm._v(\" \"+_vm._s(_vm.tr(\"Photos\"))+\" \")]),_c('div',{staticClass:\"left-button-group\"},[_c('a',{staticClass:\"hidden-btn\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":() => {\n           this.raise_event_show_sidebar(false, 'mobile');\n           this.raise_event_show_sidebar(false, 'pc') }}},[_c('IconBase',{attrs:{\"icon-color\":\"#5555ff\"}},[_c('IconSideBar')],1)],1)]),_c('div',{staticClass:\"right-button-group\"},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.logout()}}},[_c('IconBase',{attrs:{\"icon-color\":\"#5555ff\",\"height\":\"21\"}},[_c('IconExit')],1)],1)])]),_c('div',{staticClass:\"title1 navtitle\",style:({ marginTop: '50px', opacity: 1-_vm.shouldShowSemiTransparentNavBar })},[_vm._v(\" \"+_vm._s(_vm.tr(\"Photos\"))+\" \")]),_c('div',{staticClass:\"listview normal-menu-ui\",staticStyle:{\"margin-top\":\"5px\"}},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_banner),expression:\"show_banner\"}],class:_vm.get_css_class_list_item('/all'),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.on_switch_album('/all', _vm.tr('sidebar.photo_library'))}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.tr(\"sidebar.photo_library\"))+\" \")])]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_banner),expression:\"show_banner\"}],class:_vm.get_css_class_list_item('/recent'),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.on_switch_album('/recent', _vm.tr('sidebar.recent'))}}},[_c('span',[_vm._v(_vm._s(_vm.tr('sidebar.recent')))])]),_c('a',{class:_vm.get_css_class_list_item('/fav'),attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.on_switch_album('/fav', _vm.tr('sidebar.favorites'))}}},[_c('span',[_vm._v(_vm._s(_vm.tr('sidebar.favorites')))])])]),_c('div',{staticClass:\"title2\"},[_vm._v(\" \"+_vm._s(_vm.tr(\"My Albums\"))+\" \")]),_c('div',{staticClass:\"listview\"},_vm._l((_vm.album_list),function(album){return _c('a',{key:album.name,class:[ 'album-prev', _vm.get_css_class_list_item(album.name) ],attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.on_switch_album(album.name, album.friendly_name)}}},[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"list_img\",style:({ backgroundImage: album.preview==='' ? '':'url(\\'/api/album-cache/' + album.name + '/' + album.preview + '\\')' })}),_c('span',{staticStyle:{\"margin-left\":\"27px\"}},[_vm._v(_vm._s(album.friendly_name))])])])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.people_enabled && _vm.people_categories.length > 0),expression:\"people_enabled && people_categories.length > 0\"}],staticClass:\"title2\"},[_vm._v(\" \"+_vm._s(_vm.tr(\"People\"))+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.people_enabled && _vm.people_categories.length > 0),expression:\"people_enabled && people_categories.length > 0\"}],staticClass:\"people-list\"},_vm._l((_vm.people_categories),function(cata){return _c('div',{key:cata.id,class:[ 'people', _vm.get_css_class_list_item('/people/category-' + cata.id) ],style:({\n            backgroundImage: 'url(\\'/api/album-cache/' + cata.preview.al + '/' + cata.preview.name + '\\')',\n            backgroundPosition: _vm.calcCenterFaceBgpos(cata.preview)\n         }),on:{\"click\":function($event){_vm.on_switch_album('/people/category-' + cata.id, _vm.tr('sidebar.people.title', cata.id + 1))}}})}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nexport default {\r\n    // i18n of Sidebar.vue\r\n    \"Photos\": \"照片\",\r\n    \"My Albums\": \"我的相簿\",\r\n    \"sidebar.photo_library\": \"图库\",\r\n    \"sidebar.recent\": \"最近项目\",\r\n    \"sidebar.favorites\": \"个人收藏\",\r\n    \"People\": \"人物\",\r\n    \"sidebar.people.title\": \"人物{0}\",\r\n    \"sidebar.shared_album\": \"共享的相册\",\r\n\r\n    // i18n of Content.vue\r\n    \"content.photo_count\": \"{0}张图片\",\r\n    \"content.ctx_menu.zoom_in\": \"放大\",\r\n    \"content.ctx_menu.zoom_out\": \"缩小\",\r\n    \"content.ctx_menu.default_scale\": \"默认缩放 (当前: {0})\",\r\n    \"content.ctx_menu.share\": \"分享...\",\r\n    \"content.ctx_menu.export_fav\": \"导出个人收藏\",\r\n    \"content.ctx_menu.import_fav\": \"导入个人收藏\",\r\n\r\n    \"content.share_dialog.title\": \"分享相册\",\r\n    \"content.share_dialog.sharing\": \"共享相册：\",\r\n    \"content.share_dialog.set_password_label\": \"设置分享密码：\",\r\n    \"content.share_dialog.share_btn\": \"分享\",\r\n    \"content.share_dialog.share_link_is\": \"分享链接为：\",\r\n    \"content.share_dialog.share_link_desc_1\": \"将这个链接发送给其他人即可分享该相册，无需将相册的访问密码提供给对方。\\n获得该分享链接的人需要输入分享密码方可查看。\",\r\n    \"content.share_dialog.share_link_desc_2\": \"如果想要取消对方的访问权限，请使用项目提供的工具重新生成分享API。\",\r\n    \"content.share_dialog.unsharable\": \"不能分享该相册。\",\r\n\r\n    \"content.fav.unsupported\": \"你的浏览器不支持Local Storage，无法使用此功能。\",\r\n    \"content.fav.unrecognized\": \"选择的文件无法识别！\",\r\n\r\n    // i18n of PopupDialog.vue\r\n    \"popup.complete_btn\": \"完成\",\r\n\r\n    // i18n of PasswordInput.vue\r\n    \"pwdi.title\": \"相册\",\r\n    \"pwdi.hint\": \"请输入密码以访问相册。\",\r\n    \"pwdi.retry\": \"密码错误，请重新输入！\",\r\n    \"Password\": \"密码\",\r\n    \"OK\": \"确定\",\r\n\r\n    // i18n of Preview.vue\r\n    \"preview.loading\": \"正在加载图片...\",\r\n    \"preview.download_btn\": \"下载\",\r\n    \"Album\": \"相册\",\r\n}","\r\nexport default {\r\n    // i18n of Sidebar.vue\r\n    \"sidebar.photo_library\": \"Library\",\r\n    \"sidebar.recent\": \"Recent\",\r\n    \"sidebar.favorites\": \"Favorites\",\r\n    \"sidebar.people.title\": \"People {0}\",\r\n    \"sidebar.shared_album\": \"Shared Album\",\r\n\r\n    // i18n of Content.vue\r\n    \"content.photo_count\": \"{0} Photos\",\r\n    \"content.ctx_menu.zoom_in\": \"Zoom In\",\r\n    \"content.ctx_menu.zoom_out\": \"Zoom Out\",\r\n    \"content.ctx_menu.default_scale\": \"Default Scaling (Current: {0})\",\r\n    \"content.ctx_menu.share\": \"Share...\",\r\n    \"content.ctx_menu.export_fav\": \"Export Favorites\",\r\n    \"content.ctx_menu.import_fav\": \"Import Favorites\",\r\n\r\n    \"content.share_dialog.title\": \"Share Album\",\r\n    \"content.share_dialog.sharing\": \"Sharing: \",\r\n    \"content.share_dialog.set_password_label\": \"Set password for sharing:\",\r\n    \"content.share_dialog.share_btn\": \"Share\",\r\n    \"content.share_dialog.share_link_is\": \"The permalink is:\",\r\n    \"content.share_dialog.share_link_desc_1\": \"Send this link to others to share the album without providing them with the album access password.\\nThe person who gets the sharing link needs to enter the sharing password before they can view it.\",\r\n    \"content.share_dialog.share_link_desc_2\": \"If you want to revoke the access rights, please use the tools provided by this project to regenerate the sharing API.\",\r\n    \"content.share_dialog.unsharable\": \"You can't share this album.\",\r\n\r\n    \"content.fav.unsupported\": \"This feature is unavailable because your browser does not support Local Storage.\",\r\n    \"content.fav.unrecognized\": \"The selected file is not recognized!\",\r\n\r\n    // i18n of PopupDialog.vue\r\n    \"popup.complete_btn\": \"Complete\",\r\n\r\n    // i18n of PasswordInput.vue\r\n    \"pwdi.title\": \"Album\",\r\n    \"pwdi.hint\": \"Please input password to access the albums.\",\r\n    \"pwdi.retry\": \"Password is incorrect, please try again!\",\r\n\r\n    // i18n of Preview.vue\r\n    \"preview.loading\": \"Loading image...\",\r\n    \"preview.download_btn\": \"Download\",\r\n}","import zh_CN from \"@/i18n/zh-CN.js\"\r\nimport en_US from \"@/i18n/en-US\"\r\n\r\nlet translations = {\r\n    \"zh-CN\": zh_CN,\r\n    \"en-US\": en_US,\r\n};\r\n\r\nfunction GetCurrentLanguage() {\r\n    let lan =  navigator.language;\r\n    if (window.localStorage) {\r\n        let user_set_lan = window.localStorage.getItem(\"language\");\r\n        if (typeof user_set_lan !== \"undefined\" && user_set_lan != null && user_set_lan.length) {\r\n            lan = user_set_lan;\r\n        }\r\n    }\r\n    if (lan.startsWith(\"en\"))\r\n        return \"en-US\";\r\n    else\r\n        return lan;\r\n}\r\n\r\nlet _current_language = GetCurrentLanguage();\r\nconsole.log(\"Current language is\", _current_language);\r\n\r\nfunction I18nTextF(text, ...args) {\r\n    if (args.length === 0)\r\n        return text;\r\n    return text.replace(/\\{(\\d+)\\}/g, function (match, index) {\r\n        return typeof args[index] != \"undefined\" ? args[index] : match;\r\n    });\r\n}\r\n\r\nfunction I18nTranslate(text, ...args) {\r\n    let lan = _current_language;\r\n    if (typeof translations[lan] == \"undefined\")\r\n        _current_language = \"en-US\"; // Use en-US for unknown language\r\n    let translated = translations[lan][text];\r\n    if (typeof translated == \"undefined\")\r\n        return I18nTextF(text, ...args);\r\n    return I18nTextF(translated, ...args);\r\n}\r\n\r\nexport default {\r\n    i18n_translate: I18nTranslate\r\n}\r\n","import i18n from \"@/i18n/index.js\"\n\n///////// NETWORK\n\nfunction get_secured_json(url) {\n    let password = \".\";\n    if (window.enabled_password)\n        password = window.miyuki_password;\n    return new Promise((resolve, reject) => {\n        fetch(`/api/${password}/${url}.json`).then(function(response) {\n            if(response.ok) {\n                return resolve(response.json())\n            }\n            throw new Error('Network response was not ok: url');\n        }).catch(function (x) {\n            console.error('HTTP Request: /GET ' + url + ' [FAILED]', x);\n            reject(x);\n        });\n    })\n}\n\nfunction get_json(url) {\n    return new Promise((resolve, reject) => {\n        fetch(`/api/${url}.json`).then(function(response) {\n            if(response.ok) {\n                return resolve(response.json())\n            }\n            throw new Error('Network response was not ok: url');\n        }).catch(function (x) {\n            console.error('HTTP Request: /GET ' + url + ' [FAILED]', x);\n            reject(x);\n        });\n    })\n}\n\nfunction md5_transform(a, b) {\n    if (a.length !== 32 || b.length !== 32) {\n        throw new Error('Both MD5 strings must be 32 characters long.');\n    }\n\n    var c = Array(32).fill(0);\n    for (let i=0; i<32; i++) {\n        let _a = Number.parseInt(a[i], 16);\n        let _b = Number.parseInt(b[i], 16);\n        c[i] = (_a ^ _b).toString(16);\n    }\n    return c.join('');\n}\n\nfunction DownloadTextAsFile(content, filename) {\n    // 动态生成文本内容\n    // 创建一个 Blob 对象，包含生成的文本内容\n    const blob = new Blob([content], { type: 'text/plain' });\n\n    // 创建一个 a 标签，用于下载 Blob 对象\n    const a = document.createElement('a');\n    a.href = URL.createObjectURL(blob);\n    a.download = filename; // 设置下载文件的名称\n    a.style.display = 'none'; // 隐藏 a 标签\n    document.body.appendChild(a); // 将 a 标签添加到文档中\n    a.click(); // 模拟点击 a 标签，触发下载操作\n    document.body.removeChild(a); // 下载完成后移除 a 标签\n}\n\nfunction GetCurrentTimeFormatted() {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, '0'); // 月份是从0开始的，所以需要+1，并且用0填充到两位数\n    const date = String(now.getDate()).padStart(2, '0');\n    const hours = String(now.getHours()).padStart(2, '0');\n    const minutes = String(now.getMinutes()).padStart(2, '0');\n    const seconds = String(now.getSeconds()).padStart(2, '0');\n\n    return `${year}${month}${date}_${hours}${minutes}${seconds}`;\n}\n\nfunction GetFileContent(ext='.txt') {\n    return new Promise((resolve, reject) => {\n        // 创建一个新的input元素\n        const fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = ext; // 可以根据需要更改接受的文件类型\n\n        // 设置文件选择后的事件处理\n        fileInput.addEventListener('change', function(event) {\n            const file = event.target.files[0];\n            if (file) {\n                const reader = new FileReader();\n                reader.onload = function(e) {\n                    const text = e.target.result; // 文件内容\n                    resolve(text); // 调用回调函数并传递文件内容\n                };\n                reader.onerror = function(e) {\n                    reject(e.target.error); // 调用回调函数并传递错误信息\n                };\n                reader.readAsText(file); // 读取文件内容\n            } else {\n                reject(new Error('No file selected.')); // 如果没有选择文件，则返回错误\n            }\n        });\n\n        // 触发点击事件（必须由用户手动触发，不能模拟）\n        fileInput.click();\n\n        // 如果需要，可以将fileInput添加到DOM中，但这通常不是必需的，因为我们只关心文件内容\n        // document.body.appendChild(fileInput);\n    });\n}\n\nfunction CalculateCenterFaceBackgroundPosition(photo) {\n    // 如果没有开启人脸居中功能，即没有在生成API的时候做人脸检测，直接返回默认值\n    if (typeof photo.faces == \"undefined\") {\n        return '0px 0px';\n    }\n    let faces = photo.faces;\n    // 如果没有检测到人脸\n    if (faces.length == 0)\n        return '0px 0px';\n\n    // 根据所有的人脸框，求出人脸框平均值最大的位置\n    let avg_x = faces.map(e => e[0]).reduce((a, b)=>a+b, 0) / faces.length;\n    let avg_y = faces.map(e => e[1]).reduce((a, b)=>a+b, 0) / faces.length;\n    let avg_w = faces.map(e => e[2]).reduce((a, b)=>a+b, 0) / faces.length;\n    let avg_h = faces.map(e => e[3]).reduce((a, b)=>a+b, 0) / faces.length;\n\n    // 图片平均中心点的位置\n    let center_x = avg_x + avg_w / 2;\n    let center_y = avg_y + avg_h / 2;\n\n    let image_w = photo.w;\n    let image_h = photo.h;\n\n    /*\n                 Preview Window\n      +---------+-------------+---+\n      |         |   +-----+   |   |\n      |         |   |Face |   |   |  Image\n      |         |   +-----+   |   |\n      |         |             |   |\n      +---------+-------------+---+\n\n       其中预览框是正方形。\n     */\n\n    // 判断是否是竖图\n    let is_vertical = image_w < image_h;\n    if (is_vertical) {\n        // 交换长短边，保证长边短边就是物理意义的长短，w必然大于h\n        [image_h, image_w] = [image_w, image_h];\n        [center_x, center_y] = [center_y, center_x];\n    }\n\n    // 计算人脸框中点位于整体宽度的比例\n    let relative_pos_ratio = center_x / image_w;\n    // 长边相对短边更长的比例（实际在background position偏移100%的时候，是以这个比例在原图的size上偏移）\n    let actual_offset_ratio = (image_w - image_h) / image_w;\n    // 短边占长边的比例，即，预览框的半长比例\n    let wh_ratio = image_h / image_w;\n    // 计算偏移到图片的100%需要在background position设置的偏移量\n    let full_offset_ratio = 1 / actual_offset_ratio;\n    // 计算偏移到人脸框的位置需要的实际图片偏移量\n    let offset_ratio = full_offset_ratio * (relative_pos_ratio - wh_ratio / 2);\n    // 防止超过图片最大的偏移量（100%）或最小偏移量(0%)\n    offset_ratio = Math.max(0, Math.min(1, offset_ratio));\n\n    // 竖图\n    if (is_vertical) {\n        return `0 ${offset_ratio * 100}%`;\n    }\n    // 横图\n    else {\n        return `${offset_ratio * 100}% 0`;\n    }\n}\n\nexport default {\n    get_secured_json: get_secured_json,\n    get_json: get_json,\n    md5_transform: md5_transform,\n    download_text_as_file: DownloadTextAsFile,\n    get_current_time_f: GetCurrentTimeFormatted,\n    get_file_content: GetFileContent,\n    calc_center_face_bg_pos: CalculateCenterFaceBackgroundPosition,\n    translate: i18n.i18n_translate,\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":_vm.width,\"height\":_vm.height}},[_c('g',{attrs:{\"fill\":_vm.iconColor}},[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    :width=\"width\"\r\n    :height=\"height\"\r\n  >\r\n    <g :fill=\"iconColor\">\r\n      <slot />\r\n    </g>\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"IconBase.vue\",\r\n  props: {\r\n    width: {\r\n      type: [Number, String],\r\n      default: 25,\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      default: 18,\r\n    },\r\n    iconColor: {\r\n      type: String,\r\n      default: \"currentColor\",\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nsvg {\r\n  display: inline-block;\r\n  vertical-align: baseline;\r\n  margin-bottom: -2px; /* yes, I'm that particular about formatting */\r\n}\r\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./IconBase.vue?vue&type=template&id=107806a9&scoped=true\"\nimport script from \"./IconBase.vue?vue&type=script&lang=js\"\nexport * from \"./IconBase.vue?vue&type=script&lang=js\"\nimport style0 from \"./IconBase.vue?vue&type=style&index=0&id=107806a9&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"107806a9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('path',{attrs:{\"d\":\"M3.06641 17.998L19.9609 17.998C22.0117 17.998 23.0273 16.9824 23.0273 14.9707L23.0273 3.04688C23.0273 1.03516 22.0117 0.0195312 19.9609 0.0195312L3.06641 0.0195312C1.02539 0.0195312 0 1.02539 0 3.04688L0 14.9707C0 16.9922 1.02539 17.998 3.06641 17.998ZM3.08594 16.4258C2.10938 16.4258 1.57227 15.9082 1.57227 14.8926L1.57227 3.125C1.57227 2.10938 2.10938 1.5918 3.08594 1.5918L19.9414 1.5918C20.9082 1.5918 21.4551 2.10938 21.4551 3.125L21.4551 14.8926C21.4551 15.9082 20.9082 16.4258 19.9414 16.4258ZM7.44141 16.7285L8.97461 16.7285L8.97461 1.29883L7.44141 1.29883ZM5.56641 5.21484C5.85938 5.21484 6.12305 4.95117 6.12305 4.66797C6.12305 4.375 5.85938 4.12109 5.56641 4.12109L3.4668 4.12109C3.17383 4.12109 2.91992 4.375 2.91992 4.66797C2.91992 4.95117 3.17383 5.21484 3.4668 5.21484ZM5.56641 7.74414C5.85938 7.74414 6.12305 7.48047 6.12305 7.1875C6.12305 6.89453 5.85938 6.65039 5.56641 6.65039L3.4668 6.65039C3.17383 6.65039 2.91992 6.89453 2.91992 7.1875C2.91992 7.48047 3.17383 7.74414 3.4668 7.74414ZM5.56641 10.2637C5.85938 10.2637 6.12305 10.0195 6.12305 9.72656C6.12305 9.43359 5.85938 9.17969 5.56641 9.17969L3.4668 9.17969C3.17383 9.17969 2.91992 9.43359 2.91992 9.72656C2.91992 10.0195 3.17383 10.2637 3.4668 10.2637Z\",\"fill-opacity\":\"0.85\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconSideBar.vue?vue&type=template&id=570030ec\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('g',[_c('path',{attrs:{\"d\":\"M3.02734 20.9375L13.3984 20.9375C15.4199 20.9375 16.4258 19.9219 16.4258 17.8809L16.4258 3.06641C16.4258 1.03516 15.4199 0 13.3984 0L3.02734 0C1.01562 0 0 1.03516 0 3.06641L0 17.8809C0 19.9219 1.01562 20.9375 3.02734 20.9375ZM1.57227 17.8516L1.57227 3.0957C1.57227 2.11914 2.09961 1.57227 3.11523 1.57227L13.3203 1.57227C14.3359 1.57227 14.8535 2.11914 14.8535 3.0957L14.8535 17.8516C14.8535 18.8281 14.3359 19.3652 13.3203 19.3652L3.11523 19.3652C2.09961 19.3652 1.57227 18.8281 1.57227 17.8516Z\",\"fill-opacity\":\"0.85\"}}),_c('path',{attrs:{\"d\":\"M9.04297 13.1348L21.9141 13.1348C23.3594 13.1348 24.5605 11.9238 24.5605 10.4688C24.5605 9.01367 23.3594 7.80273 21.9141 7.80273L9.04297 7.80273C7.58789 7.80273 6.39648 9.01367 6.39648 10.4688C6.39648 11.9238 7.58789 13.1348 9.04297 13.1348Z\",\"fill\":\"aliceblue\"}}),_c('path',{attrs:{\"d\":\"M9.04297 11.2402L19.0723 11.2402L20.5273 11.1816L19.8438 11.8457L18.2617 13.3203C18.1055 13.457 18.0273 13.6621 18.0273 13.8477C18.0273 14.2578 18.3203 14.5605 18.7109 14.5605C18.9258 14.5605 19.082 14.4824 19.2285 14.3359L22.4121 11.0352C22.6074 10.8398 22.6758 10.6641 22.6758 10.4688C22.6758 10.2637 22.6074 10.0977 22.4121 9.90234L19.2285 6.60156C19.082 6.45508 18.9258 6.36719 18.7109 6.36719C18.3203 6.36719 18.0273 6.66016 18.0273 7.07031C18.0273 7.26562 18.1055 7.4707 18.2617 7.60742L19.8438 9.0918L20.5371 9.75586L19.0723 9.6875L9.04297 9.6875C8.63281 9.6875 8.28125 10.0488 8.28125 10.4688C8.28125 10.8887 8.63281 11.2402 9.04297 11.2402Z\",\"fill-opacity\":\"0.85\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconExit.vue?vue&type=template&id=2f4e3461\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div style=\"padding-left: 10px; padding-right: 10px; height: 100%; overflow-y: auto\" @scroll=\"handleScroll\">\n    <div :class=\"['navbar', shouldShowSemiTransparentNavBar ? '' : 'large']\">\n      <div class=\"nav-title\">\n        {{ tr(\"Photos\") }}\n      </div>\n      <div class=\"left-button-group\">\n        <a class=\"hidden-btn\" href=\"javascript:void(0)\"\n           @click=\"() => {\n             this.raise_event_show_sidebar(false, 'mobile');\n             this.raise_event_show_sidebar(false, 'pc') }\">\n          <IconBase icon-color=\"#5555ff\"> <IconSideBar /> </IconBase>\n        </a>\n      </div>\n\n      <div class=\"right-button-group\">\n        <a href=\"javascript:void(0)\" @click=\"logout()\"> <IconBase icon-color=\"#5555ff\" height=\"21\"> <IconExit /> </IconBase> </a>\n      </div>\n    </div>\n\n    <div class=\"title1 navtitle\" :style=\"{ marginTop: '50px', opacity: 1-shouldShowSemiTransparentNavBar }\">\n      {{ tr(\"Photos\") }}\n    </div>\n\n    <div class=\"listview normal-menu-ui\" style=\"margin-top: 5px;\">\n      <a v-show=\"show_banner\"  :class=\"get_css_class_list_item('/all')\"\n         @click=\"on_switch_album('/all', tr('sidebar.photo_library'))\"\n         href=\"javascript:void(0)\">\n        <span> {{ tr(\"sidebar.photo_library\") }} </span>\n      </a>\n      <a v-show=\"show_banner\" :class=\"get_css_class_list_item('/recent')\"\n         @click=\"on_switch_album('/recent', tr('sidebar.recent'))\"\n         href=\"javascript:void(0)\"><span>{{ tr('sidebar.recent') }}</span>\n      </a>\n      <a :class=\"get_css_class_list_item('/fav')\"\n         @click=\"on_switch_album('/fav', tr('sidebar.favorites'))\"\n         href=\"javascript:void(0)\"><span>{{ tr('sidebar.favorites') }}</span>\n      </a>\n    </div>\n\n    <div class=\"title2\">\n      {{ tr(\"My Albums\") }}\n    </div>\n    <div class=\"listview\">\n      <a :class=\"[ 'album-prev', get_css_class_list_item(album.name) ]\" @click=\"on_switch_album(album.name, album.friendly_name)\"  href=\"javascript:void(0)\" v-for=\"album in album_list\" :key=\"album.name\">\n        <div style=\"position: relative\">\n          <div class=\"list_img\" :style=\"{ backgroundImage: album.preview==='' ? '':'url(\\'/api/album-cache/' + album.name + '/' + album.preview + '\\')' }\"></div>\n          <span style=\"margin-left: 27px;\">{{ album.friendly_name }}</span>\n        </div>\n\n      </a>\n    </div>\n\n    <div class=\"title2\" v-show=\"people_enabled && people_categories.length > 0\">\n      {{ tr(\"People\") }}\n    </div>\n    <div class=\"people-list\" v-show=\"people_enabled && people_categories.length > 0\">\n      <div :class=\"[ 'people', get_css_class_list_item('/people/category-' + cata.id) ]\" :key=\"cata.id\"\n           :style=\"{\n              backgroundImage: 'url(\\'/api/album-cache/' + cata.preview.al + '/' + cata.preview.name + '\\')',\n              backgroundPosition: calcCenterFaceBgpos(cata.preview)\n           }\"\n           @click=\"on_switch_album('/people/category-' + cata.id, tr('sidebar.people.title', cata.id + 1))\"\n           v-for=\"cata in people_categories\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/style.css';\nimport '../css/sidebar.css';\nimport '../css/mobile_optimize.css'\nimport '../css/dark_theme.css'\nimport utils from \"@/js/utils\";\nimport IconBase from \"@/icons/IconBase\";\nimport IconSideBar from \"@/icons/IconSideBar\";\nimport IconExit from \"@/icons/IconExit\";\n\nexport default {\n  name: \"Sidebar\",\n  components: {IconSideBar, IconBase, IconExit},\n  props: [ \"people_enabled\" ],\n  data: () => ({\n    album_list: [],\n    selected_album_name: '/all',\n    show_banner: true,\n\n    shouldShowSemiTransparentNavBar: false,\n    people_categories: [],\n  }),\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    raise_event_show_sidebar(val, mode) {\n      this.$emit('should-show-sidebar', val, mode);\n    },\n    on_switch_album(album_name, album_friendly_name) {\n      this.$emit('switch-album', album_name, album_friendly_name);\n      this.selected_album_name = album_name;\n      if (window.innerWidth <= 1200) {\n        this.raise_event_show_sidebar(false, 'mobile');\n      }\n    },\n    get_css_class_list_item(album_name) {\n      return album_name === this.selected_album_name ? \"selected\" : \"\";\n    },\n    handleScroll: function(el) {\n      console.log((el.srcElement.scrollTop));\n      if((el.srcElement.scrollTop) >= 30) {\n        this.shouldShowSemiTransparentNavBar = true;\n      }\n      else {\n        console.log('ttt');\n        this.shouldShowSemiTransparentNavBar = false;\n      }\n    },\n    async getAlbumList() {\n      this.album_list = await utils.get_secured_json('get-album')\n\n      if (this.people_enabled) {\n        const people_categories = await utils.get_secured_json(\"people/categories\");\n        this.people_categories = people_categories.categories;\n      }\n    },\n    async getAlbumListForShare(album_hash) {\n      window.share_album_hash = album_hash;\n      let album_info = { name: \"/share\", friendly_name: \"共享的相册\", preview: \"\" };\n      this.album_list = [ album_info ];\n      this.show_banner = false;\n      this.on_switch_album(album_info[\"name\"], album_info[\"friendly_name\"]);\n    },\n    logout() {\n      localStorage.removeItem('password');\n      location.reload();\n    },\n    calcCenterFaceBgpos(photo) {\n      return utils.calc_center_face_bg_pos(photo);\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=32e580b7&scoped=true\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32e580b7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"height\":\"100%\",\"overflow-y\":\"auto\"},on:{\"scroll\":_vm.handleScroll}},[_c('div',{staticClass:\"cnav\"},[_c('div',{class:['title', 'left', _vm.sidebar_shown_pc?'':'sidebar-hidden']},[_c('span',{staticClass:\"title-text\"},[_vm._v(_vm._s(_vm.album_friendly_name))])]),_c('div',{staticClass:\"title right\"},[_c('span',{staticStyle:{\"color\":\"#eee\",\"margin-right\":\"10px\"}},[_vm._v(_vm._s(_vm.tr(\"content.photo_count\", _vm.photo_count)))]),_c('button',{on:{\"click\":function($event){_vm.menu_more_is_shown = !_vm.menu_more_is_shown}}},[_vm._v(\"...\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menu_more_is_shown),expression:\"menu_more_is_shown\"}],staticClass:\"context-menu-mask\",on:{\"click\":function($event){_vm.menu_more_is_shown = false}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menu_more_is_shown),expression:\"menu_more_is_shown\"}],class:['context-menu', _vm.menu_more_is_shown?'shown':'hidden'],staticStyle:{\"top\":\"56px\",\"right\":\"20px\"}},[_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"aria-disabled\":_vm.current_zoom_scale >= 2},on:{\"click\":function($event){_vm.current_zoom_scale < 2 && ((_vm.current_zoom_scale++), (_vm.menu_more_is_shown = false))}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.zoom_in\")))]),_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"aria-disabled\":_vm.current_zoom_scale <= -6},on:{\"click\":function($event){_vm.current_zoom_scale > -6 && ((_vm.current_zoom_scale--), (_vm.menu_more_is_shown = false))}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.zoom_out\")))]),_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"aria-disabled\":_vm.current_zoom_scale == 0},on:{\"click\":function($event){_vm.current_zoom_scale != 0 && ((_vm.current_zoom_scale = 0), (_vm.menu_more_is_shown = false))}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.default_scale\", _vm.current_zoom_scale)))]),_c('hr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name[0] !== '/'),expression:\"base_name[0] !== '/'\"}]}),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name[0] !== '/'),expression:\"base_name[0] !== '/'\"}],attrs:{\"href\":\"javascript:void(0)\",\"aria-disabled\":!_vm.share_enabled},on:{\"click\":function($event){return _vm.shareAlbumClick()}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.share\")))]),_c('hr',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name === '/fav'),expression:\"base_name === '/fav'\"}]}),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name === '/fav'),expression:\"base_name === '/fav'\"}],attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.exportFavClick()}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.export_fav\")))]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.base_name === '/fav'),expression:\"base_name === '/fav'\"}],attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.importFavClick()}}},[_vm._v(_vm._s(_vm.tr(\"content.ctx_menu.import_fav\")))])])]),_c('div',{staticClass:\"back left\",staticStyle:{\"line-height\":\"45px\",\"left\":\"18px\",\"top\":\"0\"},on:{\"click\":function($event){return _vm.raise_event_show_sidebar(true, 'mobile')}}},[_c('i',{staticClass:\"larrow\",staticStyle:{\"border-color\":\"white\"}}),_c('span',{staticClass:\"backtext\"},[_vm._v(_vm._s(_vm.tr(\"Photos\")))])]),_c('div',{class:['back', 'left', 'sidebar-hidden-left', _vm.sidebar_shown_pc?'':'sidebar-hidden'],staticStyle:{\"line-height\":\"45px\",\"left\":\"18px\",\"top\":\"0\"},on:{\"click\":function($event){return _vm.raise_event_show_sidebar(true, 'pc')}}},[_c('span',{staticClass:\"backtext\"},[_c('IconBase',{attrs:{\"icon-color\":\"white\"}},[_c('IconSideBar')],1)],1)])]),_c('div',_vm._l((_vm.photo_list),function(photo,i){return _c('div',{key:i,class:['photo', 'box', 'scale-ratio-ratio-' + _vm.current_zoom_scale],style:({\n              backgroundImage: `url('${ _vm.get_thumbnail_image(photo.al, photo.name) }')`,\n              backgroundPosition: _vm.get_thumbnail_image_backgrouod_pos(photo)\n            }),attrs:{\"photo-name\":photo.name}},[_c('div',{staticClass:\"photo-mask\",staticStyle:{\"position\":\"absolute\",\"left\":\"0\",\"top\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},on:{\"click\":function($event){return _vm.raise_event_show_preview(photo.name, _vm.photo_list, i, photo.al, photo)}}}),_c('div',{staticClass:\"fav-btn\",style:({\n              position: 'absolute', left: '20px', bottom: '20px',\n              display: photo.fav ? 'block' : ''\n            }),on:{\"click\":function($event){return _vm.switchFavState(photo)}}},[(!photo.fav)?_c('IconBase',{attrs:{\"icon-color\":\"white\"}},[_c('IconHeart')],1):_c('IconBase',{attrs:{\"icon-color\":\"white\"}},[_c('IconHeartFilled')],1)],1)])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.popup_dialog_shown),expression:\"popup_dialog_shown\"}],staticClass:\"dialog-container\"},[_c('PopupDialog',{ref:\"popup_dialog\",attrs:{\"title\":_vm.tr('content.share_dialog.title')},on:{\"complete-click\":() => { _vm.popup_dialog_shown = false; }}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.share_dialog_phase === 1 && _vm.share_enabled),expression:\"share_dialog_phase === 1 && share_enabled\"}]},[_c('p',[_vm._v(\" \"+_vm._s(_vm.tr(\"content.share_dialog.sharing\"))+\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.album_friendly_name))])]),_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.set_password_label\")))]),_c('p',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.share_password),expression:\"share_password\"}],ref:\"password_input\",staticStyle:{\"width\":\"calc(100% - 15px)\"},attrs:{\"type\":\"password\"},domProps:{\"value\":(_vm.share_password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.share_password=$event.target.value}}})]),_c('span',{staticClass:\"mbutton-group\",staticStyle:{\"text-align\":\"center\",\"display\":\"block\"}},[_c('button',{staticClass:\"primary large_button primary_btn\",on:{\"click\":function($event){return _vm.shareButtonClick()}}},[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.share_btn\")))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.share_dialog_phase === 2 && _vm.share_enabled),expression:\"share_dialog_phase === 2 && share_enabled\"}]},[_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.share_link_is\")))]),_c('pre',{staticClass:\"share_url\"},[_vm._v(_vm._s(_vm.share_url))]),_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.share_link_desc_1\")))]),_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.share_link_desc_2\")))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.share_enabled),expression:\"!share_enabled\"}]},[_c('p',[_vm._v(_vm._s(_vm.tr(\"content.share_dialog.unsharable\")))])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('path',{attrs:{\"d\":\"M0 6.49414C0 10.6543 3.48633 14.7461 8.99414 18.2617C9.19922 18.3887 9.49219 18.5254 9.69727 18.5254C9.90234 18.5254 10.1953 18.3887 10.4102 18.2617C15.9082 14.7461 19.3945 10.6543 19.3945 6.49414C19.3945 3.03711 17.0215 0.595703 13.8574 0.595703C12.0508 0.595703 10.5859 1.45508 9.69727 2.77344C8.82812 1.46484 7.34375 0.595703 5.53711 0.595703C2.37305 0.595703 0 3.03711 0 6.49414ZM1.57227 6.49414C1.57227 3.89648 3.25195 2.16797 5.51758 2.16797C7.35352 2.16797 8.4082 3.31055 9.0332 4.28711C9.29688 4.67773 9.46289 4.78516 9.69727 4.78516C9.93164 4.78516 10.0781 4.66797 10.3613 4.28711C11.0352 3.33008 12.0508 2.16797 13.877 2.16797C16.1426 2.16797 17.8223 3.89648 17.8223 6.49414C17.8223 10.127 13.9844 14.043 9.90234 16.7578C9.80469 16.8262 9.73633 16.875 9.69727 16.875C9.6582 16.875 9.58984 16.8262 9.50195 16.7578C5.41016 14.043 1.57227 10.127 1.57227 6.49414Z\",\"fill-opacity\":\"0.85\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconHeart.vue?vue&type=template&id=ed8360e6\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('path',{attrs:{\"d\":\"M9.69727 18.5254C9.90234 18.5254 10.1953 18.3887 10.4102 18.2617C15.9082 14.7461 19.3945 10.6543 19.3945 6.49414C19.3945 3.03711 17.0215 0.595703 13.9551 0.595703C12.0508 0.595703 10.5859 1.65039 9.69727 3.26172C8.82812 1.66016 7.34375 0.595703 5.43945 0.595703C2.37305 0.595703 0 3.03711 0 6.49414C0 10.6543 3.48633 14.7461 8.99414 18.2617C9.19922 18.3887 9.49219 18.5254 9.69727 18.5254Z\",\"fill-opacity\":\"0.85\"}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./IconHeartFilled.vue?vue&type=template&id=d7950064\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"popd\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"height\":\"100%\",\"width\":\"100%\",\"margin\":\"0 0\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true || _vm.password_dialog_shown),expression:\"true || password_dialog_shown\"}],staticClass:\"dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('div',{staticClass:\"ctnt\",staticStyle:{\"text-align\":\"left\"}},[_vm._t(\"default\")],2),_c('div',{staticClass:\"cbgroup\",staticStyle:{\"padding-top\":\"3px\",\"text-align\":\"right\",\"padding-right\":\"10px\"}},[_c('button',{staticClass:\"complete\",attrs:{\"disabled\":!_vm.password_dialog_shown},on:{\"click\":function($event){return _vm.completeClick()}}},[_vm._v(_vm._s(_vm.tr(\"popup.complete_btn\")))])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"popd\">\n    <div style=\"position: relative; height: 100%; width: 100%; margin: 0 0\">\n      <div class=\"dialog\" v-show=\"true || password_dialog_shown\">\n        <div class=\"title\">\n          {{ title }}\n        </div>\n        <div class=\"ctnt\" style=\"text-align: left\">\n          <slot></slot>\n        </div>\n        <div class=\"cbgroup\" style=\"padding-top: 3px; text-align: right; padding-right: 10px\">\n          <button class=\"complete\" @click=\"completeClick()\" :disabled=\"!password_dialog_shown\">{{ tr(\"popup.complete_btn\") }}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/popup.css';\nimport utils from \"@/js/utils\";\nlet md5 = require('js-md5');\n\nexport default {\n  name: \"PasswordInput\",\n  props: [ \"title\" ],\n  data: () => ({\n    password_dialog_shown: true,\n  }),\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    async completeClick() {\n      this.$emit('complete-click');\n    },\n    feedback(bResult) {\n      if (!bResult) {\n        this.password_dialog_shown = true;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PopupDialog.vue?vue&type=template&id=808765de&scoped=true\"\nimport script from \"./PopupDialog.vue?vue&type=script&lang=js\"\nexport * from \"./PopupDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"808765de\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div  style=\"height: 100%; overflow-y: auto\" @scroll=\"handleScroll\">\n    <div class=\"cnav\">\n      <div :class=\"['title', 'left', sidebar_shown_pc?'':'sidebar-hidden']\">\n        <span class=\"title-text\">{{ album_friendly_name }}</span>\n      </div>\n      <div class=\"title right\">\n        <span style=\"color: #eee; margin-right: 10px;\">{{ tr(\"content.photo_count\", photo_count) }}</span>\n        <button @click=\"menu_more_is_shown = !menu_more_is_shown\" style=\"\">...</button>\n        <!-- 弹出的菜单 -->\n        <div class=\"context-menu-mask\" v-show=\"menu_more_is_shown\" @click=\"menu_more_is_shown = false\"></div>\n        <div :class=\"['context-menu', menu_more_is_shown?'shown':'hidden']\" v-show=\"menu_more_is_shown\" style=\"top: 56px; right: 20px\">\n          <a href=\"javascript:void(0)\"\n             @click=\"current_zoom_scale < 2 && ((current_zoom_scale++), (menu_more_is_shown = false))\"\n             :aria-disabled=\"current_zoom_scale >= 2\">{{ tr(\"content.ctx_menu.zoom_in\") }}</a>\n          <a href=\"javascript:void(0)\"\n             @click=\"current_zoom_scale > -6 && ((current_zoom_scale--), (menu_more_is_shown = false))\"\n             :aria-disabled=\"current_zoom_scale <= -6\">{{ tr(\"content.ctx_menu.zoom_out\") }}</a>\n          <a href=\"javascript:void(0)\"\n             @click=\"current_zoom_scale != 0 && ((current_zoom_scale = 0), (menu_more_is_shown = false))\"\n             :aria-disabled=\"current_zoom_scale == 0\">{{ tr(\"content.ctx_menu.default_scale\", current_zoom_scale) }}</a>\n          <hr v-show=\"base_name[0] !== '/'\" />\n          <a href=\"javascript:void(0)\" v-show=\"base_name[0] !== '/'\"\n             @click=\"shareAlbumClick()\"\n             :aria-disabled=\"!share_enabled\">{{ tr(\"content.ctx_menu.share\") }}</a>\n          <hr v-show=\"base_name === '/fav'\" />\n          <a href=\"javascript:void(0)\" v-show=\"base_name === '/fav'\"\n            @click=\"exportFavClick()\">{{ tr(\"content.ctx_menu.export_fav\") }}</a>\n          <a href=\"javascript:void(0)\" v-show=\"base_name === '/fav'\"\n            @click=\"importFavClick()\">{{ tr(\"content.ctx_menu.import_fav\") }}</a>\n        </div>\n\n      </div>\n      <div class=\"back left\"   style=\"line-height:45px; left: 18px; top: 0\" @click=\"raise_event_show_sidebar(true, 'mobile')\">\n        <i class=\"larrow\" style=\"border-color: white\"></i><span class=\"backtext\">{{ tr(\"Photos\") }}</span>\n      </div>\n\n      <div :class=\"['back', 'left', 'sidebar-hidden-left', sidebar_shown_pc?'':'sidebar-hidden']\"\n           @click=\"raise_event_show_sidebar(true, 'pc')\" style=\"line-height:45px; left: 18px; top: 0\">\n        <span class=\"backtext\">\n          <IconBase icon-color=\"white\"> <IconSideBar /> </IconBase>\n        </span>\n      </div>\n    </div>\n\n    <div>\n      <div :class=\"['photo', 'box', 'scale-ratio-ratio-' + current_zoom_scale]\" v-for=\"(photo, i) in photo_list\" :photo-name=\"photo.name\" :key=\"i\"\n           :style=\"{\n                backgroundImage: `url('${ get_thumbnail_image(photo.al, photo.name) }')`,\n                backgroundPosition: get_thumbnail_image_backgrouod_pos(photo)\n              }\"\n      >\n        <div class=\"photo-mask\" style=\"position: absolute; left: 0; top: 0; width: 100%; height: 100%;\"\n             @click=\"raise_event_show_preview(photo.name, photo_list, i, photo.al, photo)\"\n        >\n        </div>\n        <div class=\"fav-btn\" :style=\"{\n                position: 'absolute', left: '20px', bottom: '20px',\n                display: photo.fav ? 'block' : ''\n              }\"\n             @click=\"switchFavState(photo)\" >\n          <IconBase icon-color=\"white\" v-if=\"!photo.fav\"> <IconHeart /> </IconBase>\n          <IconBase icon-color=\"white\" v-else> <IconHeartFilled /> </IconBase>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"dialog-container\" v-show=\"popup_dialog_shown\">\n      <PopupDialog ref=\"popup_dialog\"\n                   :title=\"tr('content.share_dialog.title')\"\n                   @complete-click=\"() => { popup_dialog_shown = false; }\"\n      >\n        <div v-show=\"share_dialog_phase === 1 && share_enabled\">\n          <!-- (1) Set password for sharing -->\n          <p>\n            {{ tr(\"content.share_dialog.sharing\") }}\n            <span style=\"font-weight: bold\">{{ album_friendly_name }}</span>\n          </p>\n          <p>{{ tr(\"content.share_dialog.set_password_label\") }}</p>\n          <p>\n            <input type=\"password\"\n                   v-model=\"share_password\"\n                   style=\"width: calc(100% - 15px)\"\n                   ref=\"password_input\" >\n          </p>\n          <span class=\"mbutton-group\" style=\"text-align: center; display: block\">\n            <button class=\"primary large_button primary_btn\"\n                    @click=\"shareButtonClick()\" >{{ tr(\"content.share_dialog.share_btn\") }}</button>\n          </span>\n        </div>\n        <div v-show=\"share_dialog_phase === 2 && share_enabled\">\n          <!-- (2) Show results of sharing -->\n          <p>{{ tr(\"content.share_dialog.share_link_is\") }}</p>\n          <pre class=\"share_url\">{{ share_url }}</pre>\n          <p>{{ tr(\"content.share_dialog.share_link_desc_1\") }}</p>\n          <p>{{ tr(\"content.share_dialog.share_link_desc_2\") }}</p>\n        </div>\n        <div v-show=\"!share_enabled\">\n          <p>{{ tr(\"content.share_dialog.unsharable\") }}</p>\n        </div>\n      </PopupDialog>\n    </div>\n  </div>\n</template>\n\n<script>\n//import IDMapping from \"@/js/IDMapping\";\nimport '../css/style.css'\nimport '../css/contentview.css'\nimport '../css/content_scale.css'\nimport '../css/menu.css'\nimport '../css/dark_theme.css'\nimport utils from \"@/js/utils\";\nimport IconBase from \"@/icons/IconBase\";\nimport IconSideBar from \"@/icons/IconSideBar\";\nimport IconHeart from \"@/icons/IconHeart\";\nimport IconHeartFilled from \"@/icons/IconHeartFilled\";\nimport PopupDialog from \"@/components/PopupDialog\";\nlet md5 = require('js-md5');\n\nconst PHOTO_PER_PAGE = 50;\n\nexport default {\n  name: \"Content\",\n  components: { IconSideBar, IconBase, IconHeart, IconHeartFilled, PopupDialog },\n  props: [ 'base_name', 'album_friendly_name', 'sidebar_shown_pc' ],\n  data() {\n    return {\n      page_count: 0,\n      current_page_to_load: 0,\n      photo_count: 0,\n      photo_list: [],\n      album_hash: '',\n      initial_scroll_height: 0,\n      response_load_new: true,\n      fav_content_cache: {},\n      fav_page_cache: null,\n      // UI Element -- Menu\n      menu_more_is_shown: false,\n      current_zoom_scale: 0,\n      share_enabled: false,\n      // Share dialog\n      popup_dialog_shown: false,\n      share_dialog_phase: 1,\n      share_password: \"\",\n      share_url: \"\",\n    }\n  },\n  computed: {\n    album_common_prefix() {\n      if (this.base_name === '/all')\n        return 'get-photo-';\n      if (this.base_name === '/recent')\n        return 'get-recent-photo-';\n      if (this.base_name === '/fav')\n        return 'get-fav-photo-'; // load from localstorage\n      if (this.base_name === \"/share\")\n        return 'get-shared-photo-'; // load from another URL\n      return this.base_name + '-get-photo-';\n    },\n    album_get_count_json_name() {\n      return this.album_common_prefix + \"count\";\n    },\n    album_get_image_at_current_page_json_name() {\n      return this.album_common_prefix + \"page-\" + String(this.current_page_to_load);\n    }\n  },\n  watch: {\n    base_name() {\n      this.initialize();\n    },\n  },\n  created() {},\n  async mounted() {\n    this.initialize();\n  },\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    raise_event_show_sidebar(val, mode) {\n      this.$emit('should-show-sidebar', val, mode);\n    },\n    raise_event_show_preview(image_file_name, photo_list, photo_index, album_name, photo_obj) {\n      this.$emit('preview-photo', image_file_name, photo_list, photo_index, album_name, photo_obj);\n    },\n    async load_image() {\n      // console.log(\"load album:\", this.album_get_count_json_name)\n      if (!this.response_load_new) {\n        return;\n      }\n      this.response_load_new = false;\n      setTimeout(() => { this.response_load_new = true; }, 1000)\n      if (this.current_page_to_load >= this.page_count) {\n        this.response_load_new = true;\n        return;\n      }\n      if (this.album_get_count_json_name.startsWith(\"get-fav-photo-\")) {\n        let max_i = Math.min(this.photo_list.length + PHOTO_PER_PAGE, this.fav_page_cache.length);\n        for (let i=this.photo_list.length; i < max_i; i++) {\n          this.photo_list.push(this.fav_page_cache[i]);\n        }\n      }\n      else if (this.album_get_count_json_name.startsWith(\"get-shared-photo-\")) {\n        let share_album_hash = window.share_album_hash;\n        if (typeof window.share_album_hash === 'undefined') {\n          throw Error('share_album_hash not defined');\n        }\n        console.log(\"share_album_hash\", share_album_hash);\n\n        this.photo_list.push(\n            ...await utils.get_json(`shared/${share_album_hash}-get-photo-page-${String(this.current_page_to_load)}`));\n        // Note: disable favorite feature in the sharing mode\n      }\n      else {\n        this.photo_list.push(...await utils.get_secured_json(this.album_get_image_at_current_page_json_name));\n        this.applyFavoriteWithPhotos(); // TODO: 性能优化：先执行着一条语句再加入photolist\n      }\n\n      this.current_page_to_load++;\n      this.response_load_new = true;\n    },\n    get_thumbnail_image(alumn_name ,image_name) {\n      return \"/api/album-cache/\" + alumn_name + \"/\" + image_name;\n    },\n    get_thumbnail_image_backgrouod_pos(photo) {\n      return utils.calc_center_face_bg_pos(photo);\n    },\n\n    async initialize() {\n      if (this.base_name === \"\")\n        return;\n\n      this.current_page_to_load = 0;\n      this.photo_list = [];\n      this.response_load_new = true;\n      this.initial_scroll_height = 0;\n      this.photo_count = this.page_count = 0;\n      // this.share_enabled = false; // do not update state\n      this.album_hash = '';\n\n      // get page count\n      // console.log(\"get photo count: \", this.album_get_count_json_name);\n      if (this.album_get_count_json_name.startsWith(\"get-fav-photo-\")) {\n        // not loaded\n        if (this.fav_page_cache == null || this.current_page_to_load == 0) {\n          this.fav_page_cache = [];\n          this.loadAllFavoriteItems();\n          // console.log(this.fav_content_cache)\n          for (let key1 in this.fav_content_cache) {\n            // console.log(key1)\n            for (let key2 in this.fav_content_cache[key1]) {\n              this.fav_page_cache.push(this.fav_content_cache[key1][key2]);\n            }\n          }\n        }\n        this.photo_count = this.fav_page_cache.length;\n        this.share_enabled = false; // disable share for favorite\n        this.album_hash = '';\n\n        // console.log(\"-- Favorite album count:\", this.photo_count);\n      }\n      // get shared photo count\n      else if (this.album_get_count_json_name.startsWith(\"get-shared-photo-\")) {\n        let share_album_hash = window.share_album_hash;\n        if (typeof window.share_album_hash === 'undefined') {\n          throw Error('share_album_hash not defined');\n        }\n        console.log(\"share_album_hash\", share_album_hash);\n        let album_config = await utils.get_json(`shared/${share_album_hash}-get-photo-count`);\n        this.photo_count = album_config.count;\n        this.album_hash = ''; // do not allow share for shared album\n        this.share_enabled = false; // do not allow share for shared album\n      }\n      // get normal album\n      else {\n        let album_config = (await utils.get_secured_json(this.album_get_count_json_name));\n        this.photo_count = album_config.count;\n        this.album_hash = album_config.hash;\n        this.share_enabled = typeof album_config.hash !== \"undefined\"\n      }\n      //this.photo_count = this.get_page_count(this.album_get_count_json_name);\n      this.page_count = Math.ceil(this.photo_count / PHOTO_PER_PAGE);\n\n      // load page 0 first\n      if (this.page_count > 0) {\n        this.load_image();\n      }\n    },\n    handleScroll: function(el) {\n      if (this.initial_scroll_height === 0)\n        this.initial_scroll_height = el.srcElement.scrollHeight / 10;\n      if((el.srcElement.offsetHeight + el.srcElement.scrollTop) >= el.srcElement.scrollHeight - this.initial_scroll_height) {\n        this.load_image()\n      }\n    },\n\n    // Favorite\n    isFavorite(photo) {\n      return photo.fav\n    },\n    /// 用于获取收藏夹对应的key\n    getFavoriteStorageKey(photo) {\n      return `${photo.al}/${photo.name}`;\n    },\n    /// 用于获取Local Storage对应的key\n    getFavoriteLocalStorageKey(photo) {\n      return `album_fav_${photo.al}`;\n    },\n    /// 用于获取local Storage中所有的key\n    getFavoriteLocalStorageAllKeys() {\n      let keys = []\n      for (let i = 0, len = localStorage.length; i < len ; ++i) {\n        let _key = localStorage.key(i);\n        if (_key.startsWith(\"album_fav_\"))\n          keys.push(_key);\n      }\n      return keys;\n    },\n    loadAllFavoriteItems() {\n      this.fav_content_cache = {};\n      let keys = this.getFavoriteLocalStorageAllKeys();\n      // console.log(keys)\n      for (let i = 0; i < keys.length; i++) {\n        this.fav_content_cache[keys[i]] = JSON.parse(localStorage.getItem(keys[i]));\n      }\n    },\n    applyFavoriteWithPhotos() {\n      this.loadAllFavoriteItems();\n      for (let i=0; i<this.photo_list.length; i++) {\n        let key = this.getFavoriteStorageKey(this.photo_list[i]);\n        let al_key = this.getFavoriteLocalStorageKey(this.photo_list[i]);\n        if (typeof this.fav_content_cache[al_key] == \"undefined\")\n          continue;\n        if (typeof this.fav_content_cache[al_key][key] == \"undefined\")\n          continue;\n        this.photo_list[i].fav = true;\n        // console.log('-- Favorite item:', key);\n      }\n      this.$forceUpdate();\n    },\n    saveFavoriteState(photo) {\n      let key = this.getFavoriteStorageKey(photo);\n      let al_key = this.getFavoriteLocalStorageKey(photo);\n      if (typeof this.fav_content_cache[al_key] == \"undefined\") {\n        this.fav_content_cache[al_key] = {}\n      }\n      if (photo.fav) {\n        // Add to favorite\n        this.fav_content_cache[al_key][key] = photo;\n      }\n      else {\n        // Remove from favorite\n        delete this.fav_content_cache[al_key][key];\n      }\n      let localstorage = window.localStorage;\n      if (typeof localstorage === \"undefined\") {\n        alert(this.tr(\"content.fav.unsupported\"));\n        return;\n      }\n      // Save as <key, value> to local storage\n      localstorage.setItem(\n          al_key,\n          JSON.stringify(this.fav_content_cache[al_key]));\n    },\n    switchFavState(photo) {\n      photo.fav = !photo.fav;\n      this.$forceUpdate();\n      this.saveFavoriteState(photo)\n    },\n\n    // Share album feature\n    shareAlbumClick() {\n      if (typeof this.album_hash === \"undefined\" || this.album_hash === \"\") {\n        return;\n      }\n      this.share_dialog_phase = 1;\n      this.popup_dialog_shown = true;\n      //this.$refs.password_input.focus();\n      this.menu_more_is_shown = false;\n    },\n    shareButtonClick() {\n      if (this.share_password === \"\") {\n        return;\n      }\n      let password_hash = md5(this.share_password);\n      console.log(\"password hash:\", password_hash);\n      console.log(\"album hash:   \", this.album_hash);\n      let en = utils.md5_transform(this.album_hash, password_hash);\n      let de = utils.md5_transform(en, password_hash);\n      console.log(\"encrypted:    \", en);\n      console.log(\"decrypted:    \", de);\n      this.share_dialog_phase = 2;\n      this.share_url = location.href.split(\"?\")[0].split(\"#\")[0] + \"?shared_id=\" + en;\n      this.share_password = \"\";\n    },\n    exportFavClick() {\n      this.menu_more_is_shown = false;\n      let keys = this.getFavoriteLocalStorageAllKeys();\n      console.log(\"export fav:\", keys);\n      let save_content = {};\n      for (let i = 0; i < keys.length; i++) {\n        save_content[keys[i]] = localStorage.getItem(keys[i]);\n      }\n      let filename = \"export_favorite_\" + utils.get_current_time_f() + \".json\"\n      utils.download_text_as_file(JSON.stringify(save_content), filename);\n    },\n    async importFavClick() {\n      this.menu_more_is_shown = false;\n\n      function _check(o) {\n        if (typeof o === \"undefined\") {\n          throw new Error(\"object is undefined\");\n        }\n      }\n\n      try {\n        let fav_json = await utils.get_file_content(\".json\")\n        fav_json = JSON.parse(fav_json)\n        console.log(fav_json);\n\n        // Check if is valid favorite\n        let fav = {};\n        let k0 = Object.keys(fav_json);\n        console.log(k0)\n        for (let i=0; i<k0.length; i++) {\n          let fal = JSON.parse(fav_json[k0[i]]);\n\n          // check for each item\n          let falk = Object.keys(fal);\n          for (let j=0; j < falk.length; j++) {\n            let al = fal[falk[j]];\n            // console.log(al)\n            _check(al[\"al\"])\n            _check(al[\"name\"])\n            _check(al[\"h\"])\n            _check(al[\"w\"])\n            _check(al[\"ct\"])\n          }\n        }\n\n        for (let i=0; i<k0.length; i++) {\n          let fal = fav_json[k0[i]];\n          console.log(\"Import favorite: \", k0[i], fal)\n          window.localStorage.setItem(k0[i], fal);\n        }\n\n        this.initialize(); // reload favorite\n      }\n      catch (ee) {\n        console.log(ee);\n        alert(this.tr(\"content.fav.unrecognized\"));\n      }\n\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n.fav-btn {\n  display: none;\n  cursor: pointer;\n}\n\n.photo-mask:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.photo.box:hover >.fav-btn {\n  display: block;\n}\n\ndiv.dialog-container {\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 19999;\n}\n\nbutton.large_button {\n  width: 100px;\n}\n\nbutton.primary_btn,\nbutton.primary_btn:hover {\n  border: 1px solid #5555ff;\n  background-color: #5555ff;\n}\nbutton.primary_btn:active {\n  border: 1px solid #000088 !important;\n  background-color: #000088 !important;\n}\n\npre.share_url {\n  user-select: all;\n  text-wrap: wrap;\n  color: blue;\n  background: #fff;\n  padding: 10px;\n  border-radius: 5px;\n}\npre.share_url:hover {\n  text-decoration: underline;\n}\n\n@media screen and (max-width: 500px) {\n  button.large_button {\n    width: 100%;\n  }\n\n  button.primary_btn,\n  pre.share_url {\n    background-color: transparent;\n    border: 1px solid #fff;\n    border-top: 1px solid #eee;\n    border-bottom: 1px solid #eee;\n    border-radius: 0;\n    color: #000 !important;\n    padding-left: 15px !important;\n    height: 40px !important;\n    text-align: left;\n    color: #5555ff !important;\n  }\n  button.primary_btn:hover {\n    border: 1px solid #eee !important;\n    background-color: #eee !important;\n  }\n  button.primary_btn:active {\n    border: 1px solid #ddd !important;\n    background-color: #ddd !important;\n  }\n\n  .mbutton-group {\n    border-radius: 6px;\n  }\n}\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Content.vue?vue&type=template&id=2e0469e9&scoped=true\"\nimport script from \"./Content.vue?vue&type=script&lang=js\"\nexport * from \"./Content.vue?vue&type=script&lang=js\"\nimport style0 from \"./Content.vue?vue&type=style&index=0&id=2e0469e9&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e0469e9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:_vm.showNavBar ? 'preview-with-navbar' : 'preview-hidden-navbar',staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('span',{staticStyle:{\"position\":\"absolute\",\"top\":\"45%\",\"text-align\":\"center\",\"color\":\"#888\",\"display\":\"block\",\"width\":\"100%\"}},[_vm._v(_vm._s(_vm.tr(\"preview.loading\")))]),_c('div',{staticClass:\"preview-photo-base preview-bg\",style:(_vm.preview_cache_img_style)}),_c('div',{staticClass:\"preview-photo-high-res preview-bg\",style:(_vm.preview_img_style)}),_c('div',{staticClass:\"preview-mask\",on:{\"click\":() => { _vm.showNavBar = !_vm.showNavBar }}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showNavBar),expression:\"showNavBar\"}],staticClass:\"navbar\",staticStyle:{\"width\":\"100% !important\"}},[_c('div',{staticClass:\"nav-title\"},[_vm._v(\" \"+_vm._s(_vm.photo_name)+\" \")]),_c('div',{staticClass:\"left-button-group\",on:{\"click\":function($event){return _vm.raise_hide_preview()}}},[_c('i',{staticClass:\"larrow\"}),_c('span',{staticClass:\"backtext\"},[_vm._v(_vm._s(_vm.catalog_name === '' ? _vm.tr(\"Album\"):_vm.catalog_name))])]),_c('div',{staticClass:\"right-button-group\"},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.downloadPhoto()}}},[_vm._v(_vm._s(_vm.tr(\"preview.download_btn\")))])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"showNavBar ? 'preview-with-navbar' : 'preview-hidden-navbar'\" style=\"width: 100%; height: 100%;\">\n    <span style=\"position: absolute; top: 45%; text-align: center; color: #888; display: block; width: 100%;\">{{ tr(\"preview.loading\") }}</span>\n    <div class=\"preview-photo-base preview-bg\" :style=\"preview_cache_img_style\"></div>\n    <div class=\"preview-photo-high-res preview-bg\" :style=\"preview_img_style\"></div>\n    <div class=\"preview-mask\" @click=\"() => { showNavBar = !showNavBar }\"></div>\n    <div class=\"navbar\" style=\"width: 100% !important;\" v-show=\"showNavBar\">\n      <div class=\"nav-title\">\n        {{ photo_name }}\n      </div>\n      <div class=\"left-button-group\" @click=\"raise_hide_preview()\">\n        <i class=\"larrow\"></i><span class=\"backtext\">{{ catalog_name === '' ? tr(\"Album\"):catalog_name }}</span>\n      </div>\n\n      <div class=\"right-button-group\">\n        <a href=\"javascript:void(0)\" @click=\"downloadPhoto()\">{{ tr(\"preview.download_btn\") }}</a>\n      </div>\n\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/style.css';\nimport '../css/preview.css';\nimport utils from \"@/js/utils\";\n\nexport default {\n  name: \"Preview\",\n  props: [ 'current_album_name', 'current_photo_filename', 'image_list', 'index', 'catalog_name', 'current_photo' ],\n  data: () => ({\n    showNavBar: true,\n    preview_img_style: {},\n    preview_cache_img_style: {}\n  }),\n  computed: {\n    photo_name() {\n      return this.current_photo_filename.replace(/\\.[a-z|A-Z|0-9]*$/g, \"\");\n    },\n    thumbnail_path() {\n      return `/api/album-cache/${this.current_album_name}/${this.current_photo_filename}`;\n    },\n    photo_path() {\n      return `/api/album/${this.current_album_name}/${this.current_photo_filename}`;\n    },\n  },\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    raise_hide_preview() {\n      this.$emit('hide-preview');\n    },\n    thumbnail_path_at_index(i) {\n      return `/api/album-cache/${this.image_list[i].al}/${this.image_list[i].name}`;\n    },\n    photo_path_at_index(i) {\n      return `/api/album/${this.image_list[i].al}/${this.image_list[i].name}`;\n    },\n    downloadPhoto() {\n      window.open(this.photo_path);\n    },\n    getBackgroundSize() {\n      //current_photo.h > current_photo.w ? 'auto 100%':'100% auto'\n      let ph = this.current_photo.h;\n      let pw = this.current_photo.w;\n      let wh = window.innerHeight;\n      let ww = window.innerWidth;\n      let pr = pw / ph;\n      let wr = ww / wh;\n      let dr = pr - wr;\n      const fill_width = 'auto 100%';\n      const fill_height = '100% auto';\n      console.log(pr, wr);\n      if (pr > 1) { // 横屏\n        if (wr > 1) { // 横图\n          if (dr > 0) return fill_height;\n          else return fill_width;\n        }\n        else { // 竖图\n          return fill_height;\n        }\n      }\n      else { // 竖屏\n        if (wr > 1) { // 横图\n          return fill_width;\n        }\n        else { // 竖图\n          if (dr > 0) {\n            return fill_height;\n          }\n          else return fill_width;\n        }\n      }\n    }\n  },\n  watch: {\n    current_photo() {\n      this.preview_img_style = {\n        backgroundImage: 'url(\\''+this.photo_path+'\\')',\n        backgroundSize: this.getBackgroundSize()\n      };\n\n      this.preview_cache_img_style = {\n        backgroundImage: 'url(\\''+this.thumbnail_path+'\\')',\n        backgroundSize: this.getBackgroundSize()\n      };\n    }\n  },\n  mounted() {},\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./Preview.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Preview.vue?vue&type=template&id=54049d09&scoped=true\"\nimport script from \"./Preview.vue?vue&type=script&lang=js\"\nexport * from \"./Preview.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54049d09\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pwdi\"},[_c('div',{staticStyle:{\"position\":\"relative\",\"height\":\"100%\",\"width\":\"100%\",\"margin\":\"0 0\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(true || _vm.password_dialog_shown),expression:\"true || password_dialog_shown\"}],staticClass:\"dialog\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.tr(\"pwdi.title\"))+\" \")]),_c('div',{staticClass:\"ctnt\"},[(!_vm.passwordErrorMsgShown)?_c('p',[_vm._v(_vm._s(_vm.tr(\"pwdi.hint\")))]):_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.tr(\"pwdi.retry\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.passwordEntered),expression:\"passwordEntered\"}],ref:\"pi\",attrs:{\"type\":\"password\",\"placeholder\":_vm.tr('Password')},domProps:{\"value\":(_vm.passwordEntered)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submitPassword()},\"input\":function($event){if($event.target.composing)return;_vm.passwordEntered=$event.target.value}}}),_c('div',{staticStyle:{\"padding-top\":\"25px\",\"text-align\":\"center\"}},[_c('button',{staticClass:\"primary\",staticStyle:{\"width\":\"100px\"},attrs:{\"disabled\":!_vm.password_dialog_shown},on:{\"click\":function($event){return _vm.submitPassword()}}},[_vm._v(_vm._s(_vm.tr(\"OK\")))])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pwdi\">\n    <div style=\"position: relative; height: 100%; width: 100%; margin: 0 0\">\n      <div class=\"dialog\" v-show=\"true || password_dialog_shown\">\n        <div class=\"title\">\n          {{ tr(\"pwdi.title\") }}\n        </div>\n        <div class=\"ctnt\">\n          <p v-if=\"!passwordErrorMsgShown\">{{ tr(\"pwdi.hint\") }}</p>\n          <p v-else style=\"color: red\">{{ tr(\"pwdi.retry\") }}</p>\n          <input ref=\"pi\" type=\"password\" :placeholder=\"tr('Password')\" v-model=\"passwordEntered\" @keyup.enter=\"submitPassword()\"/>\n          <div style=\"padding-top: 25px; text-align: center\">\n            <button class=\"primary\" style=\"width: 100px;\" @click=\"submitPassword()\" :disabled=\"!password_dialog_shown\">{{ tr(\"OK\") }}</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '../css/passwordinput.css';\nimport utils from \"@/js/utils\";\nlet md5 = require('js-md5');\n\nexport default {\n  name: \"PasswordInput\",\n  data: () => ({\n    passwordErrorMsgShown: false,\n    passwordEntered: '',\n\n    password_dialog_shown: true,\n    showInput: true,\n  }),\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    async submitPassword() {\n      if (!this.password_dialog_shown) return;\n      console.log('submit password: ', md5(this.passwordEntered));\n      if (this.passwordEntered === '') return this.$refs.pi.focus();\n      this.password_dialog_shown = false;\n      this.$emit('submit-password', md5(this.passwordEntered));\n    },\n    feedback(bResult) {\n      if (!bResult) {\n        this.password_dialog_shown = true;\n        this.passwordEntered = '';\n        this.passwordErrorMsgShown = true;\n      }\n    }\n  },\n  watch: {\n    password_dialog_shown() {\n\n    }\n  },\n  mounted() {\n    this.$refs.pi.focus();\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordInput.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./PasswordInput.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PasswordInput.vue?vue&type=template&id=a95f5d60&scoped=true\"\nimport script from \"./PasswordInput.vue?vue&type=script&lang=js\"\nexport * from \"./PasswordInput.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a95f5d60\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div :class=\"['content-container', sidebar_shown_on_pc_mode?'':'side-hidden-screen']\">\n      <ContentView :base_name=\"contentAlbumName\" :album_friendly_name=\"contentFriendlyName\"\n                   @should-show-sidebar=\"(val, mode) =>  mode === 'mobile' ? sidebar_shown_on_mobile_mode = val : sidebar_shown_on_pc_mode = val\"\n                   :sidebar_shown_pc = \"sidebar_shown_on_pc_mode\"\n                   @preview-photo=\"(a,b,c,d,e) => previewPhoto(a,b,c,d,e)\"\n      ></ContentView>\n    </div>\n    <div class=\"sidebar-mobile-mask\" v-show=\"sidebar_shown_on_mobile_mode\" @click=\"sidebar_shown_on_mobile_mode = false\"></div>\n    <div :class=\"['sidebar-container', sidebar_shown_on_pc_mode?'':'side-hidden-screen', sidebar_shown_on_mobile_mode?'sidebar-mobile-shown':'']\">\n      <Sidebar ref=\"sidebar\" :people_enabled=\"people_enabled\"\n               @switch-album=\"(album_name, friendly_name) => { this.contentAlbumName = album_name; this.contentFriendlyName = friendly_name; }\"\n               @should-show-sidebar=\"(val, mode) =>  mode === 'mobile' ? sidebar_shown_on_mobile_mode = val : sidebar_shown_on_pc_mode = val\"\n      ></Sidebar>\n    </div>\n    <div class=\"preview-container\" v-show=\"preview_shown\">\n      <Preview  :current_photo_filename=\"preview_filename\" :image_list=\"preview_imagelist\" :index=\"preview_index\" :current_album_name=\"preview_album_name\"\n                :catalog_name=\"contentFriendlyName\" :current_photo=\"preview_current_obj\"\n                @hide-preview=\"preview_shown = false\"\n      ></Preview>\n    </div>\n    <div class=\"password-container\" v-show=\"password_input_shown\">\n      <PasswordInput ref=\"password_input\" @submit-password=\"pwd => checkPassword(pwd)\"></PasswordInput>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Sidebar from \"@/components/Sidebar\";\nimport ContentView from \"@/components/Content\";\nimport Preview from '@/components/Preview';\nimport PasswordInput from \"@/components/PasswordInput\";\n\nimport utils from \"@/js/utils\";\nlet md5 = require('js-md5');\n\nexport default {\n  name: 'App',\n  components: {\n    Sidebar, ContentView, Preview, PasswordInput\n  },\n  data: () => ({\n    activeName: 'beautiful-album',\n    content_view_shown: true,\n    sidebar_shown_on_mobile_mode: false,\n    sidebar_shown_on_pc_mode: true,\n    password_input_shown: false,\n\n    preview_shown: false,\n    preview_filename: '',\n    preview_imagelist: [],\n    preview_index: 0,\n    preview_album_name: '',\n    preview_current_obj: '',\n\n    contentAlbumName: \"\",\n    contentFriendlyName: \"\",\n\n    // People feature in Sidebar\n    people_enabled: false,\n  }),\n  methods: {\n    tr(x, ...args) { return utils.translate(x, ...args) },\n    previewPhoto(filename, photo_list, index, album_name, photo_obj) {\n      this.preview_filename = filename;\n      this.preview_index = index;\n      this.preview_imagelist = photo_list;\n      this.preview_album_name = album_name;\n      this.preview_current_obj = photo_obj;\n      this.preview_shown = true;\n    },\n\n    async requirePassword() {\n      this.password_input_shown = true;\n    },\n\n    async checkPassword(pwd) {\n      // check if is share link\n      if (window.is_share_link) {\n        let album_hash = utils.md5_transform(window.share_id, pwd);\n        console.log(\"share id:  \", window.share_id);\n        console.log(\"password:  \", pwd);\n        console.log(\"album_hash:\", album_hash);\n\n        try {\n          await utils.get_json(`shared/${album_hash}-get-photo-count`);\n          this.$refs.password_input.feedback(true);\n          this.password_input_shown = false;\n\n          this.initialize_for_share(album_hash); // initialize for share link\n        }\n        catch (ee) {\n          this.requirePassword();\n          this.$refs.password_input.feedback(false);\n        }\n        return;\n      }\n\n      // is a normal login\n      window.miyuki_password = pwd\n      window.enabled_password = true;\n      try {\n        await utils.get_secured_json('get-album');\n        localStorage.setItem(\"password\", pwd)\n        this.$refs.password_input.feedback(true);\n        this.password_input_shown = false;\n        this.initialize();\n      }\n      catch (ee) {\n        localStorage.removeItem(\"password\");\n        this.requirePassword();\n        this.$refs.password_input.feedback(false);\n      }\n    },\n\n    initialize() {\n      this.$refs.sidebar.getAlbumList();\n\n      this.contentAlbumName = \"/all\";\n      this.contentFriendlyName = this.tr(\"sidebar.photo_library\");\n    },\n\n    initialize_for_share(album_hash) {\n      this.$refs.sidebar.getAlbumListForShare(album_hash);\n\n      this.contentAlbumName = \"/share\";\n      this.contentFriendlyName = this.tr(\"sidebar.shared_album\");\n    },\n  },\n  async mounted() {\n    if (window.innerWidth <= 500)\n      this.sidebar_shown_on_mobile_mode = true;\n\n    // Check if password enabled\n    let password_enabled;\n\n    function parse_args() {\n      let _args = {};\n      let args = location.href.split(\"?\")[1];\n      if (typeof args == \"undefined\")\n        return _args;\n      args.split('&').forEach(function(item) {\n        var s = item.split('=');\n        _args[s[0]] = s[1];\n      });\n      return _args;\n    }\n    let _args = parse_args();\n\n    // check if is a share link\n    window.is_share_link = typeof _args[\"shared_id\"] !== \"undefined\";\n    window.share_id = String(_args[\"shared_id\"]).padEnd(32, \"0\")\n    password_enabled = window.is_share_link;\n\n    if (window.is_share_link) {\n      // clear stored password if is a share link\n      localStorage.removeItem('password');\n    }\n\n    if (!window.is_share_link) {\n      const app_config = await utils.get_json('password');\n      password_enabled = app_config.enabled;\n      this.people_enabled = app_config.people_enabled;\n    }\n\n    let __TRUE__ = true;\n    if (password_enabled) {\n      if (localStorage.getItem(\"password\") !== null) {\n        this.checkPassword(localStorage.getItem(\"password\"))\n      }\n      else this.requirePassword();\n    }\n    else {\n      window.enabled_password = false;\n      this.initialize();\n    }\n\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 10px;\n}\n\n/* TODO: Consider mobile devices */\n\n.sidebar-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: inline-block;\n  width: 25%;\n  height: 100%;\n  background: aliceblue;\n}\n.content-container {\n  position: fixed;\n  top: 0;\n  right: 0;\n  display: inline-block;\n  width: 75%;\n  background: #fff;\n  height: 100%;\n}\n\n.sidebar-container.sidebar-hidden {\n  display: none;\n  position: fixed;\n  z-index: 2333;\n  top: 0;\n  width: 300px;\n  height: 100%;\n}\n.sidebar-container.sidebar-hidden {\n  display: block;\n}\n.content-container.sidebar-hidden {\n  width: 100%;\n}\n\n.sidebar-container.side-hidden-screen {\n  display: none;\n}\n.content-container.side-hidden-screen {\n  left: 0;\n  width: 100%;\n}\n\n.navbar.sidebar-hidden {\n  width: 300px !important;\n}\n\n.sidebar-mobile-mask {\n  position: fixed;\n  background: rgba(0,0,0,0.1);\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  display: none;\n}\n\n@media screen and (min-width: 1400px) {\n  .sidebar-container {\n    width: 20%;\n  }\n  .content-container {\n    width: 80%;\n  }\n}\n\n@media screen and (max-width: 1100px) {\n  .sidebar-container {\n    display: none;\n    position: fixed;\n    z-index: 2333;\n    top: 0;\n    width: 300px;\n    height: 100%;\n  }\n  .sidebar-container.sidebar-hidden {\n    display: none;\n  }\n  .sidebar-container.sidebar-mobile-shown {\n    display: block;\n  }\n  .content-container {\n    width: 100%;\n  }\n\n  .navbar {\n    width: 300px !important;\n  }\n  .sidebar-mobile-mask {\n    display: block;\n  }\n}\n\n@media screen and (max-width: 500px) {\n  .sidebar-container {\n    width: 100%;\n  }\n  .navbar {\n    width: 100% !important;\n  }\n}\n\n\ndiv.preview-container {\n  position: fixed;\n  z-index: 9999;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=26c55a4c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=26c55a4c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=26c55a4c&prod&lang=css\"","export * from \"-!../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconBase.vue?vue&type=style&index=0&id=107806a9&prod&scoped=true&lang=css\""],"sourceRoot":""}